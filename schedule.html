<!DOCTYPE html>
<html lang="tr">

    <head>
        <title>ITU Helper</title>
        <link rel="icon" href="https://raw.githubusercontent.com/itu-helper/home/main/images/favicon.png" />
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css">
        <!-- <link rel="stylesheet" href="assets/css/main.css" /> -->
        <noscript>
            <link rel="stylesheet" href="assets/css/noscript.css" />
        </noscript>

        <style>
            .calendar-day {
                width: 100px;
                min-width: 100px;
                max-width: 100px;
                height: 80px;
            }

            .calendar-table {
                margin: 0 auto;
                width: 700px;
            }

            .selected {
                background-color: #eee;
            }

            .outside .date {
                color: #ccc;
            }

            .timetitle {
                white-space: nowrap;
                text-align: right;
            }

            .event {
                border-top: 1px solid #b2dba1;
                border-bottom: 1px solid #b2dba1;
                background-image: linear-gradient(to bottom, #dff0d8 0px, #c8e5bc 100%);
                background-repeat: repeat-x;
                color: #3c763d;
                border-width: 1px;
                font-size: 0.75em;
                padding: 0 0.75em;
                line-height: 2em;
                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;
                margin-bottom: 1px;
            }

            .event.begin {
                border-left: 1px solid #b2dba1;
                border-top-left-radius: 4px;
                border-bottom-left-radius: 4px;
            }

            .event.end {
                border-right: 1px solid #b2dba1;
                border-top-right-radius: 4px;
                border-bottom-right-radius: 4px;
            }

            .event.clear {
                background: none;
                border: 1px solid transparent;
            }

            .table-tight>thead>tr>th,
            .table-tight>tbody>tr>th,
            .table-tight>tfoot>tr>th,
            .table-tight>thead>tr>td,
            .table-tight>tbody>tr>td,
            .table-tight>tfoot>tr>td {
                padding-left: 0;
                padding-right: 0;
            }

            .table-tight-vert>thead>tr>th,
            .table-tight-vert>tbody>tr>th,
            .table-tight-vert>tfoot>tr>th,
            .table-tight-vert>thead>tr>td,
            .table-tight-vert>tbody>tr>td,
            .table-tight-vert>tfoot>tr>td {
                padding-top: 0;
                padding-bottom: 0;
            }
        </style>

        <script>
            window.console = window.console || function (t) { };
        </script>
    </head>

<body data-new-gr-c-s-check-loaded="14.1054.0" data-gr-ext-installed="" class="is-preload">
    <div class="container theme-showcase">
        <h1>Ders Programın</h1>
        <div id="holder" class="row">
        </div>
    </div>

    <script type="text/tmpl" id="tmpl">
      {{ if (mode ==='day') { }}
        <table class="table table-striped table-condensed table-tight-vert" >
            <thead>
            <tr class="c-weeks">
                <th>&nbsp;</th>
                {{ for (i = 0; i < 5; i++) { }}
                <th class="c-name" style="text-align: center">
                    {{: days[i] }}
                </th>
                {{ } }}
            </tr>
            </thead>
            <tbody>
            {{for (i = 8; i < 19; i++) { }}
            <tr>
                <th class="timetitle" >{{: i > 9 ? i : '0'+i }}:00 </th>
                <td class="time-{{: i}}-0"> </td>
                <td class="time-{{: i}}-0"> </td>
                <td class="time-{{: i}}-0"> </td>
                <td class="time-{{: i}}-0"> </td>
                <td class="time-{{: i}}-0"> </td>
            </tr>
            <tr>
                <th class="timetitle" >{{: i > 9 ? i : '0'+i }}:30 </th>
                <td class="time-{{: i}}-30"> </td>
                <td class="time-{{: i}}-30"> </td>
                <td class="time-{{: i}}-30"> </td>
                <td class="time-{{: i}}-30"> </td>
                <td class="time-{{: i}}-30"> </td>
            </tr>
            {{ } }}
            </tbody>
        </table>
      {{ } }}
    </script>


    <script
        src="https://cpwebassets.codepen.io/assets/common/stopExecutionOnTimeout-1b93190375e9ccc259df3a57c1abc0e64599724ae30d7ea4c6877eb615f89387.js">
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
    
    <script id="rendered-js">
        var $currentPopover = null;
        $(document).on('shown.bs.popover', function (ev) {
            var $target = $(ev.target);
            if ($currentPopover && $currentPopover.get(0) != $target.get(0)) {
                $currentPopover.popover('toggle');
            }
            $currentPopover = $target;
        }).on('hidden.bs.popover', function (ev) {
            var $target = $(ev.target);
            if ($currentPopover && $currentPopover.get(0) == $target.get(0)) {
                $currentPopover = null;
            }
        });


        //quicktmpl is a simple template language I threw together a while ago; it is not remotely secure to xss and probably has plenty of bugs that I haven't considered, but it basically works
        //the design is a function I read in a blog post by John Resig (http://ejohn.org/blog/javascript-micro-templating/) and it is intended to be loosely translateable to a more comprehensive template language like mustache easily
        $.extend({
            quicktmpl: function (template) { return new Function("obj", "var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('" + template.replace(/[\r\t\n]/g, " ").split("{{").join("\t").replace(/((^|\}\})[^\t]*)'/g, "$1\r").replace(/\t:(.*?)\}\}/g, "',$1,'").split("\t").join("');").split("}}").join("p.push('").split("\r").join("\\'") + "');}return p.join('');"); }
        });


        $.extend(Date.prototype, {
            //provides a string that is _year_month_day, intended to be widely usable as a css class
            toDateCssClass: function () {
                return '_' + this.getFullYear() + '_' + (this.getMonth() + 1) + '_' + this.getDate();
            },
            //this generates a number useful for comparing two dates; 
            toDateInt: function () {
                return (this.getFullYear() * 12 + this.getMonth()) * 32 + this.getDate();
            },
            toTimeString: function () {
                var hours = this.getHours(),
                    minutes = this.getMinutes(),
                    hour = hours > 12 ? hours - 12 : hours,
                    ampm = hours >= 12 ? ' pm' : ' am';
                if (hours === 0 && minutes === 0) { return ''; }
                if (minutes > 0) {
                    return hour + ':' + minutes + ampm;
                }
                return hour + ampm;
            }
        });



        (function ($) {

            //t here is a function which gets passed an options object and returns a string of html. I am using quicktmpl to create it based on the template located over in the html block
            var t = $.quicktmpl($('#tmpl').get(0).innerHTML);

            function calendar($el, options) {
                //actions aren't currently in the template, but could be added easily...
                $el.on('click', '.event', function () {
                    var $t = $(this),
                        index = +$t.attr('data-index'),
                        haspop = $t.data('popover'),
                        data, time;

                    if (haspop || isNaN(index)) { return true; }
                    data = options.data[index];
                    time = data.start.toTimeString();
                    if (time && data.end) { time = time + ' - ' + data.end.toTimeString(); }
                    $t.data('popover', true);
                    $t.popover({ content: '<p><strong>' + time + '</strong></p>' + data.text, html: true, placement: 'auto left' }).popover('toggle');
                    return false;
                });
                function dayAddEvent(index, event) {
                    if (!!event.allDay) {
                        monthAddEvent(index, event);
                        return;
                    }
                    var $event = $('<div/>', { 'class': 'event', text: event.title, title: event.title, 'data-index': index }),
                        start = event.start,
                        end = event.end || start,
                        time = event.start.toTimeString(),
                        hour = start.getHours(),
                        timeclass = '.time-22-0',
                        startint = start.toDateInt(),
                        dateint = options.date.toDateInt(),
                        endint = end.toDateInt();
                    if (startint > dateint || endint < dateint) { return; }

                    if (!!time) {
                        $event.html('<strong>' + time + '</strong> ' + $event.html());
                    }
                    $event.toggleClass('begin', startint === dateint);
                    $event.toggleClass('end', endint === dateint);
                    if (hour < 6) {
                        timeclass = '.time-0-0';
                    }
                    if (hour < 22) {
                        timeclass = '.time-' + hour + '-' + (start.getMinutes() < 30 ? '0' : '30');
                    }
                    $(timeclass).append($event);
                }

                function monthAddEvent(index, event) {
                    var $event = $('<div/>', { 'class': 'event', text: event.title, title: event.title, 'data-index': index }),
                        e = new Date(event.start),
                        dateclass = e.toDateCssClass(),
                        day = $('.' + e.toDateCssClass()),
                        empty = $('<div/>', { 'class': 'clear event', html: '&nbsp;' }),
                        numbevents = 0,
                        time = event.start.toTimeString(),
                        endday = event.end && $('.' + event.end.toDateCssClass()).length > 0,
                        checkanyway = new Date(e.getFullYear(), e.getMonth(), e.getDate() + 40),
                        existing,
                        i;
                    $event.toggleClass('all-day', !!event.allDay);
                    if (!!time) {
                        $event.html('<strong>' + time + '</strong> ' + $event.html());
                    }
                    if (!event.end) {
                        $event.addClass('begin end');
                        $('.' + event.start.toDateCssClass()).append($event);
                        return;
                    }

                    while (e <= event.end && (day.length || endday || options.date < checkanyway)) {
                        if (window.CP.shouldStopExecution(1)) break;
                        if (day.length) {
                            existing = day.find('.event').length;
                            numbevents = Math.max(numbevents, existing);
                            for (i = 0; i < numbevents - existing; i++) {
                                if (window.CP.shouldStopExecution(2)) break;
                                day.append(empty.clone());
                            } window.CP.exitedLoop(2);
                            day.append(
                                $event.
                                    toggleClass('begin', dateclass === event.start.toDateCssClass()).
                                    toggleClass('end', dateclass === event.end.toDateCssClass()));

                            $event = $event.clone();
                            $event.html('&nbsp;');
                        }
                        e.setDate(e.getDate() + 1);
                        dateclass = e.toDateCssClass();
                        day = $('.' + dateclass);
                    } window.CP.exitedLoop(1);
                }

                function draw() {
                    $el.html(t(options));
                    //potential optimization (untested), this object could be keyed into a dictionary on the dateclass string; the object would need to be reset and the first entry would have to be made here
                    $('.' + new Date().toDateCssClass()).addClass('today');
                    if (options.data && options.data.length) {
                        $.each(options.data, dayAddEvent);
                    }
                }

                draw();
            }

            ; (function (defaults, $, window, document) {
                $.extend({
                    calendar: function (options) {
                        return $.extend(defaults, options);
                    }
                }).
                    fn.extend({
                        calendar: function (options) {
                            options = $.extend({}, defaults, options);
                            return $(this).each(function () {
                                var $this = $(this);
                                calendar($this, options);
                            });
                        }
                    });

            })({
                days: ["Pazartesi", "Salı", "Çarşamba", "Perşembe", "Cuma"],
                date: new Date(),
                mode: "day",
                data: []
            }, jQuery, window, document);

        })(jQuery);

        var data = [],
            date = new Date(),
            d = date.getDate(),
            d1 = d,
            m = date.getMonth(),
            y = date.getFullYear(),
            i,
            end,
            j,
            c = 1063,
            c1 = 3329,
            h,
            m,
            names = "dfg",
            slipsum = "sdf";

        for (i = 0; i < 500; i++) {
            if (window.CP.shouldStopExecution(3)) break;
            j = Math.max(i % 15 - 10, 0);
            //c and c1 jump around to provide an illusion of random data
            c = c * 1063 % 1061;
            c1 = c1 * 3329 % 3331;
            d = (d1 + c + c1) % 839 - 440;
            h = i % 36;
            m = i % 4 * 15;
            if (h < 18) { h = 0; m = 0; } else { h = Math.max(h - 24, 0) + 8; }
            end = !j ? null : new Date(y, m, d + j, h + 2, m);
            data.push({ title: names, start: new Date(y, m, d, h, m), end: end, text: slipsum });
        } window.CP.exitedLoop(3);

        data.sort(function (a, b) { return +a.start - +b.start; });

        //data must be sorted by start date

        //Actually do everything
        $('#holder').calendar({
            data: data
        });
        //# sourceURL=pen.js
    </script>







</body>

</html>